define("pages/open-course/common/utils/lockExperiment",["require","exports","module","underscore","bundles/epic/client","pages/open-course/common/constants"],function(require,exports,module){"use strict";var _=require("underscore"),e=require("bundles/epic/client"),s=require("pages/open-course/common/constants");exports.setup=function(n,o,i,c){if(_(s.lockedAssessments).contains(n)&&e.get("siteOnDemandCompletion","lockedAssessments")){var t=o.getGradableItemMetadatas();_(t).chain().rest(1).each(function(n,o){var e=t[o],s=!1,r=["closedPeer","gradedPeer","phasedPeer","splitPeerReviewItem"],a=_(r).contains(e.getTypeName());if(a){var d=c.getItemProgress(e.get("id")),m=d.getDefinition("submitted");s=m}else{var l=i.getItemGrade(e.get("id"));s=l.isPassing()}n.set({locked:!s},{silent:!0})})}}});